<div mat-dialog-title class="header-container" fxLayout="row" fxLayoutAlign="space-between center">
	<div fxLayoutAlign="start center" fxLayoutGap="8px">
		<span class="header" web-report-title-font i18n>Excluded Matching Results</span>
		<span class="total-excluded">({{ allResultsItemLength }})</span>
	</div>
	<button
		mat-icon-button
		class="dialog-close-button"
		(click)="closeDailog()"
		matTooltip="Close"
		matTooltipClass="web-report-mat-tooltip"
		i18n-matTooltip
		aria-label="Closes the dialog"
		i18n-aria-label>
		<mat-icon class="close-icon">close</mat-icon>
	</button>
</div>

<div mat-dialog-content>
	<mat-form-field class="search-input" appearance="fill">
		<div class="search-input-icon-container" fxLayoutAlign="center center" style="margin-right: 8px" matPrefix>
			<ng-container *ngIf="!searchValue; else clearSearchIcon">
				<mat-icon class="search-input-search-icon" fontSet="material-icons-round">search</mat-icon>
			</ng-container>
			<ng-template #clearSearchIcon>
				<mat-icon
					class="clear-input-search-icon"
					fontSet="material-icons-round"
					(click)="!!searchValue ? clearSearch() : ''"
					matTooltip="Clear"
					matTooltipClass="web-report-mat-tooltip"
					i18n-matTooltip
					aria-label="Clears entered text"
					i18n-aria-label>
					close
				</mat-icon>
			</ng-template>
		</div>
		<input matInput placeholder="Search result" [spellcheck]="false" i18n-placeholder [formControl]="searchControl" />
	</mat-form-field>

	<div class="results-top-container">
		<div #resultsContainer class="results-container" tabindex="0">
			<ng-container *ngFor="let item of filteredList">
				<cr-report-results-item
					[resultItem]="item"
					[isResultExcluded]="isResultExcluded(item.resultPreview.id)"
					[excludeView]="true"
					[showItemBody]="false"
					[style]="'width:100%'"
					[reportViewSvc]="reportViewSvc"
					[reportDataSvc]="reportDataSvc"
					(hiddenResultEvent)="excludeResultById($event)"
					(showResultEvent)="includeResultById($event)"></cr-report-results-item>
			</ng-container>
		</div>
	</div>
</div>

<div mat-dialog-actions>
	<button
		class="include-all-button"
		(click)="includeAllButtonToggle()"
		aria-label="Includes or excludes previously excluded results"
		i18n-aria-label
		i18n>
		<ng-container *ngIf="!allResultsIncluded; else ExcludeResultBtnTxtRef">Include all</ng-container>
		<ng-template #ExcludeResultBtnTxtRef>Exclude all</ng-template>
	</button>
</div>
