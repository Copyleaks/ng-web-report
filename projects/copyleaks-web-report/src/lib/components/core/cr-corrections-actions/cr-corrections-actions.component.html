<ng-container *ngIf="!showLoadingView; else loadingViewRef">
	<div class="corrections-total" web-report-title-font>
		<span class="corrections-total-title">
			<ng-container *ngIf="!correctionClicked; else highlightedCorrectionRef" i18n>
				Corrections ({{ totalWritingFeedbackIssues }})
			</ng-container>
			<ng-template #highlightedCorrectionRef>
				<ng-container i18n>Highlighted Corrections ({{ totalSelectedWritingFeedbackIssues }})</ng-container>
			</ng-template>
		</span>
		<div *ngIf="totalIgnoredWritingFeedbackIssues || totalFilteredWritingFeedbackIssues" class="stats-chips-container">
			<mat-chip
				role="button"
				aria-label="Opens excluded results dialog"
				i18n-aria-label
				[tabIndex]="0"
				*ngIf="totalIgnoredWritingFeedbackIssues"
				(keyup.enter)="openFilterDialog(true)"
				(click)="openFilterDialog(true)">
				{{ totalIgnoredWritingFeedbackIssues }}
				<ng-container i18n>excluded</ng-container>
			</mat-chip>
			<button
				mat-button
				*ngIf="totalFilteredWritingFeedbackIssues"
				class="chip-button"
				aria-label="Opens filters dialog"
				i18n-aria-label
				(click)="openFilterDialog()">
				<mat-chip
					*ngIf="totalFilteredWritingFeedbackIssues"
					class="filter-chip"
					aria-describedby="fliter-text"
					role="presentation">
					<span id="fliter-text" aria-label="Shows number of filtered results." i18n-aria-label>
						{{ totalFilteredWritingFeedbackIssues }}
						<ng-container i18n>filtered</ng-container>
					</span>
					<button
						mat-icon-button
						class="clear-filter-btn"
						(click)="$event.stopPropagation(); clearFilter()"
						matTooltip="Clear Filter"
						matTooltipClass="web-report-mat-tooltip"
						i18n-matTooltip
						aria-label="Clear filtered results."
						i18n-aria-label>
						<mat-icon class="clear-filter-icon" fontSet="material-icons-round">highlight_off</mat-icon>
					</button>
				</mat-chip>
			</button>
		</div>
	</div>

	<div class="actions-btns-container">
		<ng-container *ngIf="!correctionClicked; else highlightedCorrectioniconRef">
			<button
				mat-icon-button
				class="filter-btn"
				(click)="openFilterDialog()"
				matTooltip="Filter corrections"
				matTooltipClass="web-report-mat-tooltip"
				i18n-matTooltip
				[disabled]="totalWritingFeedbackIssues <= 0"
				aria-label="Opens filters dialog"
				i18n-aria-label>
				<mat-icon
					class="filter-icon"
					[class.off]="!filterIndicatorOn"
					[class.on]="filterIndicatorOn && totalWritingFeedbackIssues > 0"
					[class.disabled-icon]="totalWritingFeedbackIssues <= 0"
					fontSet="material-icons-round">
					filter_list
				</mat-icon>
			</button>
		</ng-container>

		<ng-template #highlightedCorrectioniconRef>
			<mat-icon
				class="diselect-match-icon"
				fontSet="material-icons-outlined"
				(click)="deselectMatch()"
				matTooltip="Deselect Match"
				matTooltipClass="web-report-mat-tooltip"
				i18n-matTooltip>
				cancel
			</mat-icon>
		</ng-template>

		<mat-icon
			*ngIf="isMobile"
			class="expand-icon"
			(click)="expandResultsSection()"
			[ngClass]="{ 'expanded-section-icon': expandSection }"
			fontSet="material-icons-round">
			arrow_drop_down
		</mat-icon>
	</div>
</ng-container>

<ng-template #loadingViewRef>
	<div class="actions-loader-container">
		<ngx-skeleton-loader
			class="skeleton search-input-loader"
			[appearance]="'line'"
			style="width: 40%"></ngx-skeleton-loader>

		<div class="icons-loader-container">
			<ngx-skeleton-loader class="skeleton circle" [appearance]="'line'"></ngx-skeleton-loader>
			<ngx-skeleton-loader class="skeleton circle" [appearance]="'line'"></ngx-skeleton-loader>
		</div>
	</div>
</ng-template>
