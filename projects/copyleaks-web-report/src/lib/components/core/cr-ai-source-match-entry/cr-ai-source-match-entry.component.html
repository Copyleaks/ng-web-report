<ng-container *ngIf="!isLoading; else loadingViewRef">
	<div class="top-section-container">
		<div class="ai-source-match-title-container">
			<div class="title-container">
				<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
					<rect x="0.5" y="0.5" width="23" height="23" rx="11.5" fill="#FBFFFF" />
					<rect
						x="0.5"
						y="0.5"
						width="23"
						height="23"
						rx="11.5"
						fill="url(#paint0_linear_8004_807)"
						fill-opacity="0.6" />
					<rect x="0.5" y="0.5" width="23" height="23" rx="11.5" stroke="#FD7366" />
					<path
						fill-rule="evenodd"
						clip-rule="evenodd"
						d="M20.0446 11.0705C18.6459 7.9903 15.4821 6 11.9844 6C10.2063 6 8.4904 6.50961 7.02244 7.47352C5.55448 8.43744 4.43695 9.78841 3.79101 11.3801L3.60156 11.8469L3.79101 12.3135C4.43695 13.9053 5.55433 15.2563 7.02244 16.2202C8.49056 17.1841 10.2063 17.6937 11.9844 17.6937C13.1555 17.6937 14.2892 17.4706 15.3317 17.0581L14.4282 16.1287C13.7068 16.5073 12.8792 16.7225 11.9993 16.7225C9.19679 16.7225 6.9249 14.5396 6.9249 11.8469C6.9249 9.15414 9.19679 6.97124 11.9993 6.97124C14.8018 6.97124 17.0737 9.15414 17.0737 11.8469C17.0737 12.8102 16.783 13.7083 16.2811 14.4645L17.5593 15.7793C18.6154 14.9478 19.4759 13.8756 20.0446 12.6232L20.3971 11.8469L20.0446 11.0705ZM17.0635 16.1422L15.9093 14.9549C15.6329 15.2755 15.3146 15.5616 14.9625 15.8054L15.9269 16.7974C16.3226 16.6066 16.7026 16.3876 17.0635 16.1422Z"
						fill="#FD7366" />
					<path
						d="M14.6909 14.8174C13.1075 16.3627 10.5648 16.3293 9.02223 14.7426C7.47966 13.1559 7.51299 10.6085 9.09635 9.06323C10.6797 7.51794 13.2224 7.55134 14.765 9.13799C16.3077 10.7246 16.2742 13.2721 14.6909 14.8174ZM9.58373 9.56455C8.27643 10.8404 8.24891 12.9443 9.52259 14.2543C10.7963 15.5643 12.8962 15.592 14.2035 14.316C15.5108 13.0401 15.5383 10.9363 14.2646 9.62629C12.9909 8.31632 10.891 8.28865 9.58373 9.56455Z"
						fill="#FBFFFF" />
					<path
						d="M14.6909 14.8174C13.1075 16.3627 10.5648 16.3293 9.02223 14.7426C7.47966 13.1559 7.51299 10.6085 9.09635 9.06323C10.6797 7.51794 13.2224 7.55134 14.765 9.13799C16.3077 10.7246 16.2742 13.2721 14.6909 14.8174ZM9.58373 9.56455C8.27643 10.8404 8.24891 12.9443 9.52259 14.2543C10.7963 15.5643 12.8962 15.592 14.2035 14.316C15.5108 13.0401 15.5383 10.9363 14.2646 9.62629C12.9909 8.31632 10.891 8.28865 9.58373 9.56455Z"
						fill="url(#paint1_linear_8004_807)" />
					<path
						fill-rule="evenodd"
						clip-rule="evenodd"
						d="M9.85214 12.8185C10.1241 13.506 10.7059 14.0366 11.4249 14.2376L11.661 12.9221C11.4488 12.824 11.2758 12.6639 11.1605 12.4683L9.85214 12.8185ZM9.69733 12.1791L10.7301 11.9027L9.69912 11.6841C9.69015 11.7683 9.68555 11.8537 9.68555 11.9403C9.68555 12.0209 9.68954 12.1005 9.69733 12.1791ZM13.5723 10.0939C13.162 9.75743 12.6374 9.55554 12.0658 9.55554C11.0684 9.55554 10.2144 10.1701 9.86026 11.0418L11.1527 11.3158C11.3879 10.8975 11.8671 10.6492 12.3632 10.7317C12.5186 10.7575 12.661 10.8133 12.7857 10.8923L13.5723 10.0939ZM13.9318 10.4597L13.1458 11.2574C13.2876 11.4883 13.3481 11.7709 13.2961 12.0609C13.2049 12.5685 12.797 12.9436 12.3132 13.0154L12.0781 14.325C13.387 14.3183 14.446 13.2532 14.446 11.9403C14.446 11.3809 14.2537 10.8664 13.9318 10.4597Z"
						fill="#A188FF" />
					<path
						fill-rule="evenodd"
						clip-rule="evenodd"
						d="M14.9609 15.8053L16.907 17.8071C17.0255 17.9292 17.1841 17.9974 17.3539 17.9999H17.3626C17.5292 17.9999 17.686 17.9357 17.8055 17.8193C18.0563 17.5747 18.0617 17.1706 17.8173 16.9191L15.9077 14.9548C15.6313 15.2755 15.3131 15.5615 14.9609 15.8053Z"
						fill="#FBFFFF" />
					<path
						fill-rule="evenodd"
						clip-rule="evenodd"
						d="M14.9609 15.8053L16.907 17.8071C17.0255 17.9292 17.1841 17.9974 17.3539 17.9999H17.3626C17.5292 17.9999 17.686 17.9357 17.8055 17.8193C18.0563 17.5747 18.0617 17.1706 17.8173 16.9191L15.9077 14.9548C15.6313 15.2755 15.3131 15.5615 14.9609 15.8053Z"
						fill="url(#paint2_linear_8004_807)" />
					<defs>
						<linearGradient
							id="paint0_linear_8004_807"
							x1="10.0134"
							y1="0.232098"
							x2="8.37462"
							y2="26.8629"
							gradientUnits="userSpaceOnUse">
							<stop stop-color="#F8EAFF" />
							<stop offset="1" stop-color="#D7C5FF" />
						</linearGradient>
						<linearGradient
							id="paint1_linear_8004_807"
							x1="7.88672"
							y1="12.5462"
							x2="15.3784"
							y2="14.524"
							gradientUnits="userSpaceOnUse">
							<stop stop-color="#BCA6FF" />
							<stop offset="1" stop-color="#9345F9" />
						</linearGradient>
						<linearGradient
							id="paint2_linear_8004_807"
							x1="14.9609"
							y1="16.7072"
							x2="17.7997"
							y2="17.4558"
							gradientUnits="userSpaceOnUse">
							<stop stop-color="#BCA6FF" />
							<stop offset="1" stop-color="#9345F9" />
						</linearGradient>
					</defs>
				</svg>
				<span i18n>AI Source Match</span>
				<mat-chip class="new-chip" i18n>New</mat-chip>
			</div>
			<ng-container *ngIf="aiSourceMatchResultsTotal > 0; else zeroTotalRef">
				<div class="total-results" i18n>
					{{ aiSourceMatchResultsTotal | number }}
					{aiSourceMatchResultsTotal, plural, =1 {Result} other {Results}}
				</div>
			</ng-container>
			<ng-template #zeroTotalRef>
				<div class="no-results-info-container">
					<span class="total-results" i18n>No Results Found</span>
					<mat-icon
						fontSet="material-icons-round"
						tabindex="0"
						matTooltip="AI Source Match blends plagiarism and AI detection to identify reused or repurposed AI-generated content from other sources."
						[matTooltipPosition]="'after'"
						matTooltipClass="web-report-mat-tooltip tooltip-contanier"
						i18n-matTooltip>
						info_outline
					</mat-icon>
				</div>
			</ng-template>
		</div>
		<div *ngIf="aiSourceMatchResultsTotal > 0" class="ai-source-match-description" i18n>
			Identifies if any part of the text matches AI-generated content already published elsewhere.
		</div>
	</div>

	<div *ngIf="aiSourceMatchResultsTotal > 0" class="bottom-section-container">
		<div class="match-bar-container">
			<span class="ai-source-match-score">{{ aiSourceMatchResultsScore | similarity : '1.0-1' }}</span>
			<div
				class="grade-bar"
				[reportViewService]="reportViewSvc"
				[crReportScoreTooltipPosition]="EReportScoreTooltipPosition.ABOVE"
				[crReportScoreTooltip]="{
					identicalPct: {
						percentage: aiSourceMatchResultsIndenticalScore,
						totalWords: aiSourceMatchResultsStats?.identical ?? 0
					},
					minorChangesPct: {
						percentage: aiSourceMatchResultsMinorChangesScore,
						totalWords: aiSourceMatchResultsStats?.minorChanges ?? 0
					},
					paraphrasedPct: {
						percentage: aiSourceMatchResultsParaphrasedScore,
						totalWords: aiSourceMatchResultsStats?.relatedMeaning ?? 0
					},
					omittedPct: undefined,
					totalWords: aiSourceMatchResultsStats?.total ?? 0,
					isResult: true
				}">
				<div class="bar plagiarism" [style.width.%]="100">
					<div
						class="identical"
						[class.first-percentage]="!!aiSourceMatchResultsIndenticalScore"
						[class.last-percentage]="!aiSourceMatchResultsMinorChangesScore && !aiSourceMatchResultsParaphrasedScore"
						[style.width.%]="aiSourceMatchResultsIndenticalScore * 100"
						[style.border]="!aiSourceMatchResultsIndenticalScore ? 'none' : ''"></div>
					<div
						class="minor-changes"
						[class.first-percentage]="!aiSourceMatchResultsIndenticalScore"
						[class.last-percentage]="!aiSourceMatchResultsParaphrasedScore"
						[style.width.%]="aiSourceMatchResultsMinorChangesScore * 100"
						[style.border]="!aiSourceMatchResultsMinorChangesScore ? 'none' : ''"></div>
					<div
						class="paraphrased last-percentage"
						[class.first-percentage]="!aiSourceMatchResultsIndenticalScore && !aiSourceMatchResultsMinorChangesScore"
						[style.width.%]="aiSourceMatchResultsParaphrasedScore * 100"
						[style.border]="!aiSourceMatchResultsParaphrasedScore ? 'none' : ''"></div>
				</div>
			</div>
		</div>
		<cr-button
			icon="tab"
			[outlined]="true"
			[isLink]="true"
			[dir]="reportViewSvc.documentDirection"
			padding="4px 8px"
			(click)="$event.preventDefault(); $event.stopPropagation(); onNavigateToResultsClick()">
			<ng-container i18n>Matching Results</ng-container>
		</cr-button>
	</div>
</ng-container>
<ng-template #loadingViewRef>
	<div class="title-loading-container">
		<div class="top-part-loading-container">
			<div class="first-loading">
				<ngx-skeleton-loader class="skeleton circle" [appearance]="'circle'"></ngx-skeleton-loader>
				<ngx-skeleton-loader class="skeleton" [appearance]="'line'" style="width: 100%"></ngx-skeleton-loader>
			</div>
			<ngx-skeleton-loader class="skeleton" [appearance]="'line'" style="width: 15%"></ngx-skeleton-loader>
		</div>
		<div class="bottom-part-loading-container">
			<ngx-skeleton-loader class="skeleton" [appearance]="'line'" style="width: 100%"></ngx-skeleton-loader>
		</div>
	</div>

	<div class="content-loading-container">
		<div class="top-part-loading-container">
			<ngx-skeleton-loader class="skeleton" [appearance]="'line'" style="width: 15%"></ngx-skeleton-loader>
			<ngx-skeleton-loader class="skeleton bar" [appearance]="'line'" style="width: 85%"></ngx-skeleton-loader>
		</div>
		<div class="bottom-part-loading-container">
			<ngx-skeleton-loader class="skeleton circle small" [appearance]="'circle'"></ngx-skeleton-loader>
			<ngx-skeleton-loader class="skeleton" [appearance]="'line'" style="width: 30%"></ngx-skeleton-loader>
		</div>
	</div>
</ng-template>
