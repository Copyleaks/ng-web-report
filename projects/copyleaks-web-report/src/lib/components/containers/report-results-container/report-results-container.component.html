<cr-results-actions
	*ngIf="!showLoadingView && !showCustomView"
	[resultsActions]="resultsActions"
	[searchedValue]="searchedValue"
	[showLoadingView]="false"
	[isMobile]="isMobile"
	[expandSection]="showAlertsSection"
	(onExpandToggle)="showAlertsSection = $event"
	(onSearch)="onSearch($event)"></cr-results-actions>

<div
	class="report-results-item-top-container"
	[style]="'width:100%'"
	[ngStyle]="{
		display: showLoadingView || !showAlertsSection || showCustomView ? 'none' : 'flex'
	}"
	fxLayout="column"
	fxLayoutAlign="start center"
	fxLayoutGap="8px">
	<div #resultsContainer class="results-item-top-container">
		<div
			fxLayoutGap="8px"
			[ngClass]="{
				'results-item-container': !isMobile,
				'results-item-mobile-container': isMobile,
				'empty-results-container': !resultItemList || resultItemList.length === 0
			}">
			<ng-container *ngIf="resultItemList && resultItemList.length > 0; else emptyState">
				<div
					style="width: 100%"
					fxLayout="column"
					fxLayoutAlign="start start"
					fxLayoutGap="4px"
					*ngFor="let item of resultItemList">
					<cr-report-results-item
						#resultitem
						[resultItem]="item"
						[isMobile]="isMobile"
						[style]="'width:100%'"></cr-report-results-item>
				</div>
				<ng-container *ngIf="lastItemLoading">
					<cr-report-results-item [showLoader]="true" [style]="'width:100%'"></cr-report-results-item>
				</ng-container>
			</ng-container>
		</div>
		<ng-template #emptyState>
			<cr-empty-result-state *ngIf="!showLoadingView"></cr-empty-result-state>
		</ng-template>
	</div>
	<div
		class="navigate-mobie-button-contaienr"
		*ngIf="isMobile && allResultsItemLength > 0"
		fxLayout="row"
		fxLayoutAlign="start center"
		fxLayoutGap="8px">
		<button
			class="navigate-mobie-button"
			[ngClass]="{
				'navigate-mobie-button-select ': navigateMobileButton == enumNavigateMobileButton.FirstButton
			}"
			(click)="navigateButton(enumNavigateMobileButton.FirstButton)"></button>
		<button
			*ngIf="allResultsItemLength > 1"
			class="navigate-mobie-button"
			[ngClass]="{
				'navigate-mobie-button-select ': navigateMobileButton == enumNavigateMobileButton.SecondButton
			}"
			(click)="navigateButton(enumNavigateMobileButton.SecondButton)"></button>
		<button
			*ngIf="allResultsItemLength > 2"
			class="navigate-mobie-button"
			[ngClass]="{
				'navigate-mobie-button-select ': navigateMobileButton == enumNavigateMobileButton.ThirdButton
			}"
			(click)="navigateButton(enumNavigateMobileButton.ThirdButton)"></button>
		<button
			*ngIf="allResultsItemLength > 3"
			class="navigate-mobie-button"
			[ngClass]="{
				'navigate-mobie-button-select ': navigateMobileButton == enumNavigateMobileButton.FourthButton
			}"
			(click)="navigateButton(enumNavigateMobileButton.FourthButton)"></button>
		<button
			*ngIf="allResultsItemLength > 4"
			class="navigate-mobie-button"
			[ngClass]="{
				'navigate-mobie-button-select ': navigateMobileButton == enumNavigateMobileButton.FifthButton
			}"
			(click)="navigateButton(enumNavigateMobileButton.FifthButton)"></button>

		<mat-chip
			(click)="navigateButton(enumNavigateMobileButton.None)"
			class="mat-chip-navigate"
			*ngIf="showMatChip && allResultsItemLength > 5">
			{{ allResultsItemLength - 5 }}
		</mat-chip>
	</div>
</div>
<ng-container *ngIf="showLoadingView">
	<cr-results-actions [showLoadingView]="showLoadingView"></cr-results-actions>
	<div
		class="report-results-item-top-container"
		[style]="'width:100%'"
		fxLayout="column"
		fxLayoutAlign="start center"
		fxLayoutGap="8px">
		<div #resultsContainer class="results-item-top-container">
			<div
				fxLayoutGap="8px"
				[ngClass]="{
					'results-item-container': !isMobile,
					'results-item-mobile-container': isMobile
				}">
				<ng-container *ngFor="let _ of [1, 2, 3, 4, 5, 6, 7, 8]">
					<cr-report-results-item [showLoader]="true" [style]="'width:100%'"></cr-report-results-item>
				</ng-container>
			</div>
			<ng-template #emptyState>
				<cr-empty-result-state></cr-empty-result-state>
			</ng-template>
		</div>
	</div>
</ng-container>

<div
	class="custom-results-container"
	#customResultView
	[ngStyle]="{
		display: !showCustomView || showLoadingView ? 'none' : 'flex'
	}">
	<ng-container *ngTemplateOutlet="customResultsTemplate ?? null"></ng-container>
</div>
